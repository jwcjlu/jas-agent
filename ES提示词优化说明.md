# Elasticsearch Agent æç¤ºè¯ä¼˜åŒ–è¯´æ˜

## ğŸ¯ ä¼˜åŒ–å†…å®¹

æ ¹æ®å®é™…ä½¿ç”¨éœ€æ±‚ï¼Œå¯¹ ES Agent çš„ç³»ç»Ÿæç¤ºè¯è¿›è¡Œäº†ä¸¤ä¸ªå…³é”®ä¼˜åŒ–ã€‚

---

## âœ¨ ä¼˜åŒ– 1: ä¼˜å…ˆä½¿ç”¨ search_indices æ¨¡ç³ŠæŸ¥æ‰¾

### ä¼˜åŒ–å‰ âŒ

```
å·¥ä½œæµç¨‹:
  1. ç†è§£éœ€æ±‚
  2. ä½¿ç”¨ list_indices äº†è§£æ‰€æœ‰ç´¢å¼•      â† å…ˆåˆ—å‡ºæ‰€æœ‰
  3. å¦‚æœä¸ç¡®å®šï¼Œå†ä½¿ç”¨ search_indices   â† ä½œä¸ºå¤‡é€‰
```

**é—®é¢˜**:
- Agent å¯èƒ½ç›´æ¥çŒœæµ‹ç´¢å¼•åç§°
- åˆ—å‡ºæ‰€æœ‰ç´¢å¼•æ•ˆç‡ä½
- ç´¢å¼•è¿‡å¤šæ—¶ä¿¡æ¯è¿‡è½½

### ä¼˜åŒ–å âœ…

```
å·¥ä½œæµç¨‹:
  1. ç†è§£éœ€æ±‚
  2. æŸ¥æ‰¾ç´¢å¼•:
     â­ ä¼˜å…ˆä½¿ç”¨ search_indices æ¨¡ç³ŠæŸ¥æ‰¾    â† ä¼˜å…ˆçº§æå‡
     - ç”¨æˆ·æåˆ°é¡¹ç›®å â†’ search_indices[é¡¹ç›®å]
     - ç”¨æˆ·æåˆ°æ—¶é—´ â†’ search_indices[æ—¥æœŸ]
     - ç”¨æˆ·æåˆ°åŠŸèƒ½ â†’ search_indices[åŠŸèƒ½]
     - åªæœ‰å®Œå…¨ä¸çŸ¥é“æ—¶æ‰ç”¨ list_indices
  3. éªŒè¯ç´¢å¼•ï¼ˆget_index_mappingï¼‰
```

### æ–°å¢çš„ç­–ç•¥è¯´æ˜

```
ç´¢å¼•æŸ¥æ‰¾ç­–ç•¥ï¼ˆé‡è¦ï¼ï¼‰:
  â­ ä¼˜å…ˆä½¿ç”¨ search_indices æ¨¡ç³ŠæŸ¥æ‰¾ï¼Œä¸è¦ç›´æ¥çŒœæµ‹ç´¢å¼•åç§°ï¼
  
  è§¦å‘æ¡ä»¶:
  - ç”¨æˆ·æåˆ°é¡¹ç›®å â†’ search_indices[é¡¹ç›®å]
    ä¾‹å¦‚: "backend" â†’ search_indices[backend]
  
  - ç”¨æˆ·æåˆ°æ—¶é—´ â†’ search_indices[æ—¥æœŸ]
    ä¾‹å¦‚: "ä»Šå¤©" â†’ search_indices[2025-11-05]
    ä¾‹å¦‚: "11æœˆ" â†’ search_indices[2024-11]
  
  - ç”¨æˆ·æåˆ°åŠŸèƒ½ â†’ search_indices[åŠŸèƒ½]
    ä¾‹å¦‚: "é”™è¯¯æ—¥å¿—" â†’ search_indices[error]
  
  - ç´¢å¼•ä¸å­˜åœ¨é”™è¯¯ â†’ ç«‹å³ä½¿ç”¨ search_indices
```

### Few-shot ç¤ºä¾‹æ›´æ–°

**æ–°å¢ç¤ºä¾‹ 1: ä¼˜å…ˆæ¨¡ç³ŠæŸ¥æ‰¾**
```
æŸ¥è¯¢ï¼šæŸ¥æ‰¾backendé¡¹ç›®çš„é”™è¯¯æ—¥å¿—

Thought: ç”¨æˆ·æåˆ°backendé¡¹ç›®ï¼Œæˆ‘éœ€è¦å…ˆç”¨search_indicesæŸ¥æ‰¾ç›¸å…³ç´¢å¼•
Action: search_indices[backend]
```

**æ–°å¢ç¤ºä¾‹ 2: æŒ‰æ—¥æœŸæŸ¥æ‰¾**
```
æŸ¥è¯¢ï¼šæŸ¥è¯¢ä»Šå¤©çš„é”™è¯¯æ—¥å¿—

Thought: éœ€è¦å…ˆæ‰¾åˆ°ä»Šå¤©çš„æ—¥å¿—ç´¢å¼•ï¼Œä½¿ç”¨ä»Šå¤©çš„æ—¥æœŸ2025-11-05ä½œä¸ºå…³é”®è¯
Action: search_indices[2025.11.05]
```

**æ–°å¢ç¤ºä¾‹ 3: é”™è¯¯æ¢å¤**
```
Observation: é”™è¯¯ - ç´¢å¼• 'logs' ä¸å­˜åœ¨

Thought: ç´¢å¼•ä¸å­˜åœ¨ï¼Œæˆ‘éœ€è¦ç«‹å³ä½¿ç”¨search_indicesæŸ¥æ‰¾æ­£ç¡®çš„ç´¢å¼•åç§°
Action: search_indices[log]
```

---

## âœ¨ ä¼˜åŒ– 2: L å­—æ®µè¡¨ç¤ºé”™è¯¯çº§åˆ«

### ä¼˜åŒ–å‰ âŒ

```
ï¼ˆæç¤ºè¯ä¸­æ²¡æœ‰æ˜ç¡®è¯´æ˜å­—æ®µå«ä¹‰ï¼‰

Agent å¯èƒ½ä¼š:
  - çŒœæµ‹å­—æ®µåæ˜¯ "level"
  - çŒœæµ‹å­—æ®µåæ˜¯ "severity"
  - éœ€è¦å…ˆæŸ¥çœ‹ mapping æ‰çŸ¥é“
```

### ä¼˜åŒ–å âœ…

```
å­—æ®µæ˜ å°„çº¦å®šï¼ˆé‡è¦ï¼ï¼‰:
  â­ åœ¨æœ¬ç³»ç»Ÿçš„æ—¥å¿—ç´¢å¼•ä¸­ï¼Œå­—æ®µæ˜ å°„éµå¾ªç‰¹å®šçº¦å®šï¼š
  
  - L å­—æ®µ â†’ æ—¥å¿—çº§åˆ«ï¼ˆLog Levelï¼‰
    å¯èƒ½çš„å€¼: ERROR, WARN, INFO, DEBUG
    æŸ¥è¯¢é”™è¯¯æ—¥å¿—: {"term": {"L.keyword": "ERROR"}}
    æŸ¥è¯¢è­¦å‘Šæ—¥å¿—: {"term": {"L.keyword": "WARN"}}
  
  - M å­—æ®µ â†’ æ¶ˆæ¯æˆ–æ ‡è¯†ç¬¦ï¼ˆMessage/IDï¼‰
    ç”¨äºå­˜å‚¨æ—¥å¿—æ¶ˆæ¯å†…å®¹æˆ–å”¯ä¸€æ ‡è¯†ç¬¦
  
  - T å­—æ®µ â†’ æ—¶é—´æˆ³ï¼ˆTimestampï¼‰
    ç”¨äºæ—¶é—´èŒƒå›´æŸ¥è¯¢å’Œæ—¶é—´åºåˆ—åˆ†æ
  
  - å…¶ä»–å¸¸è§å­—æ®µæ ¹æ®å®é™…mappingç¡®å®š
```

### Few-shot ç¤ºä¾‹æ›´æ–°

**æ–°å¢ç¤ºä¾‹ 4: é”™è¯¯æ—¥å¿—æŸ¥è¯¢**
```
æŸ¥è¯¢ï¼šæŸ¥æ‰¾é”™è¯¯æ—¥å¿—

Thought: æ ¹æ®ç³»ç»Ÿçº¦å®šï¼Œé”™è¯¯æ—¥å¿—å­˜å‚¨åœ¨Lå­—æ®µï¼Œå€¼ä¸ºERROR
Action: search_documents[{
  "index": "backend-logs-2024-11",
  "query": {
    "term": {"L.keyword": "ERROR"}
  },
  "size": 10
}]
```

**æ–°å¢ç¤ºä¾‹ 5: é”™è¯¯æ—¥å¿—èšåˆ**
```
æŸ¥è¯¢ï¼šç»Ÿè®¡æ¯å°æ—¶çš„é”™è¯¯æ•°é‡

Thought: éœ€è¦æŒ‰æ—¶é—´èšåˆERRORçº§åˆ«çš„æ—¥å¿—
Action: aggregate_data[{
  "index": "logs-2024-11",
  "query": {
    "term": {"L.keyword": "ERROR"}
  },
  "aggs": {
    "hourly": {
      "date_histogram": {
        "field": "T",
        "calendar_interval": "hour"
      }
    }
  }
}]
```

---

## ğŸ“Š å®Œæ•´çš„ä¼˜åŒ–å¯¹æ¯”

### å·¥ä½œæµç¨‹ä¼˜åŒ–

| åœºæ™¯ | ä¼˜åŒ–å‰ | ä¼˜åŒ–å |
|------|--------|--------|
| ä¸ç¡®å®šç´¢å¼•å | list_indicesï¼ˆåˆ—å‡ºå…¨éƒ¨ï¼‰ | search_indices[å…³é”®è¯]ï¼ˆç²¾ç¡®æŸ¥æ‰¾ï¼‰ |
| ç´¢å¼•ä¸å­˜åœ¨ | æç¤ºé”™è¯¯ï¼Œåœæ­¢ | è‡ªåŠ¨ä½¿ç”¨ search_indices æ¢å¤ |
| æŸ¥è¯¢é”™è¯¯æ—¥å¿— | éœ€è¦å…ˆçœ‹mappingçŒœå­—æ®µ | ç›´æ¥ä½¿ç”¨ L.keyword = ERROR |

### ç¤ºä¾‹æ•°é‡

| ç±»å‹ | ä¼˜åŒ–å‰ | ä¼˜åŒ–å |
|------|--------|--------|
| ç´¢å¼•æŸ¥æ‰¾ç¤ºä¾‹ | 1ä¸ª | 3ä¸ªï¼ˆé¡¹ç›®åã€æ—¥æœŸã€é”™è¯¯æ¢å¤ï¼‰ |
| å­—æ®µä½¿ç”¨ç¤ºä¾‹ | 0ä¸ª | 2ä¸ªï¼ˆé”™è¯¯æŸ¥è¯¢ã€é”™è¯¯èšåˆï¼‰ |
| æ€»ç¤ºä¾‹æ•° | 3ä¸ª | 5ä¸ª |

---

## ğŸ¯ å®é™…ä½¿ç”¨æ•ˆæœ

### åœºæ™¯ 1: æŸ¥è¯¢ backend é¡¹ç›®çš„é”™è¯¯æ—¥å¿—

**ç”¨æˆ·**: "æŸ¥æ‰¾backendé¡¹ç›®ä»Šå¤©çš„é”™è¯¯æ—¥å¿—"

**Agent æ‰§è¡Œï¼ˆä¼˜åŒ–å‰ï¼‰**:
```
ğŸ’­ Thought: éœ€è¦æŸ¥çœ‹æ‰€æœ‰ç´¢å¼•
âš™ï¸ Action: list_indices[]
ğŸ‘ï¸ Observation: è¿”å›100ä¸ªç´¢å¼•... ï¼ˆä¿¡æ¯è¿‡è½½ï¼‰

ğŸ’­ Thought: å¤ªå¤šäº†ï¼Œæˆ‘çŒœç´¢å¼•åæ˜¯ backend-logs
âš™ï¸ Action: get_index_mapping[backend-logs]
ğŸ‘ï¸ Observation: âŒ ç´¢å¼•ä¸å­˜åœ¨
  ï¼ˆå¯èƒ½å¡åœ¨è¿™é‡Œï¼‰
```

**Agent æ‰§è¡Œï¼ˆä¼˜åŒ–åï¼‰**:
```
ğŸ’­ Thought: ç”¨æˆ·æåˆ°backendå’Œä»Šå¤©ï¼Œæˆ‘å…ˆç”¨search_indicesæŸ¥æ‰¾
âš™ï¸ Action: search_indices[backend]              â­ ä¼˜å…ˆæ¨¡ç³ŠæŸ¥æ‰¾
ğŸ‘ï¸ Observation: 
  æ‰¾åˆ° 2 ä¸ªåŒ…å« 'backend' çš„ç´¢å¼•ï¼š
  - backend-vm_manager-2025.11.04
  - backend-api-2025.11.03

ğŸ’­ Thought: æ‰¾åˆ°äº†backendç›¸å…³ç´¢å¼•ï¼Œå†æŒ‰æ—¥æœŸç­›é€‰ä»Šå¤©çš„
âš™ï¸ Action: get_index_mapping[backend-vm_manager-2025.11.04]
ğŸ‘ï¸ Observation: å­—æ®µåŒ…å« Lï¼ˆæ—¥å¿—çº§åˆ«ï¼‰ã€Mã€T

ğŸ’­ Thought: æ ¹æ®ç³»ç»Ÿçº¦å®šï¼ŒLå­—æ®µå­˜å‚¨æ—¥å¿—çº§åˆ«ï¼ŒæŸ¥è¯¢ERROR
âš™ï¸ Action: search_documents[{
  "index": "backend-vm_manager-2025.11.04",
  "query": {
    "term": {"L.keyword": "ERROR"}          â­ ç›´æ¥ä½¿ç”¨ L å­—æ®µ
  },
  "size": 20
}]
ğŸ‘ï¸ Observation: æ‰¾åˆ° 15 æ¡é”™è¯¯æ—¥å¿—

ğŸ“Š æœ€ç»ˆç­”æ¡ˆ: åœ¨ backend-vm_manager é¡¹ç›®ä»Šå¤©çš„æ—¥å¿—ä¸­æ‰¾åˆ° 15 æ¡é”™è¯¯...
```

### åœºæ™¯ 2: ç»Ÿè®¡æŸä¸ªæœåŠ¡çš„é”™è¯¯è¶‹åŠ¿

**ç”¨æˆ·**: "ç»Ÿè®¡vm_manageræœåŠ¡ä»Šå¤©æ¯å°æ—¶çš„é”™è¯¯æ•°é‡"

**Agent æ‰§è¡Œï¼ˆä¼˜åŒ–åï¼‰**:
```
ğŸ’­ Thought: ç”¨æˆ·æåˆ°vm_managerå’Œä»Šå¤©ï¼Œå…ˆæŸ¥æ‰¾ç›¸å…³ç´¢å¼•
âš™ï¸ Action: search_indices[vm_manager]
ğŸ‘ï¸ Observation: backend-vm_manager-2025.11.04

ğŸ’­ Thought: æ‰¾åˆ°ç´¢å¼•ï¼ŒæŸ¥çœ‹å­—æ®µç»“æ„
âš™ï¸ Action: get_index_mapping[backend-vm_manager-2025.11.04]
ğŸ‘ï¸ Observation: Lå­—æ®µï¼ˆçº§åˆ«ï¼‰ã€Tå­—æ®µï¼ˆæ—¶é—´ï¼‰

ğŸ’­ Thought: æ„å»ºèšåˆæŸ¥è¯¢ï¼Œè¿‡æ»¤L=ERRORï¼ŒæŒ‰Tå­—æ®µçš„å°æ—¶èšåˆ
âš™ï¸ Action: aggregate_data[{
  "index": "backend-vm_manager-2025.11.04",
  "query": {
    "bool": {
      "must": [
        {"term": {"L.keyword": "ERROR"}},           â­ Lå­—æ®µ=ERROR
        {"range": {"T": {"gte": "now/d"}}}          â­ Tå­—æ®µï¼ˆæ—¶é—´ï¼‰
      ]
    }
  },
  "aggs": {
    "hourly_errors": {
      "date_histogram": {
        "field": "T",
        "calendar_interval": "hour"
      }
    }
  }
}]
ğŸ‘ï¸ Observation: èšåˆç»“æœ...

ğŸ“Š æœ€ç»ˆç­”æ¡ˆ: vm_manageræœåŠ¡ä»Šå¤©æ¯å°æ—¶çš„é”™è¯¯ç»Ÿè®¡ï¼š
  00:00-01:00  12æ¡
  01:00-02:00  8æ¡
  02:00-03:00  15æ¡
  ...
```

### åœºæ™¯ 3: æŸ¥è¯¢ç‰¹å®šç”¨æˆ·çš„é”™è¯¯

**ç”¨æˆ·**: "æŸ¥æ‰¾ç”¨æˆ·4103_jawqnr4i8rzhçš„é”™è¯¯æ—¥å¿—"

**Agent æ‰§è¡Œï¼ˆä¼˜åŒ–åï¼‰**:
```
ğŸ’­ Thought: ç”¨æˆ·æä¾›äº†ç”¨æˆ·IDï¼Œå¯èƒ½åœ¨Må­—æ®µï¼Œå…ˆæŸ¥æ‰¾ç›¸å…³ç´¢å¼•
âš™ï¸ Action: search_indices[backend]
ğŸ‘ï¸ Observation: backend-vm_manager-2025.11.04

ğŸ’­ Thought: æ„å»ºå¤åˆæŸ¥è¯¢ï¼ŒLå­—æ®µ=ERRORä¸”Må­—æ®µ=ç”¨æˆ·ID
âš™ï¸ Action: search_documents[{
  "index": "backend-vm_manager-2025.11.04",
  "query": {
    "bool": {
      "must": [
        {"term": {"M.keyword": "4103_jawqnr4i8rzh"}},  â­ Må­—æ®µï¼ˆç”¨æˆ·IDï¼‰
        {"term": {"L.keyword": "ERROR"}}               â­ Lå­—æ®µï¼ˆé”™è¯¯ï¼‰
      ]
    }
  }
}]
ğŸ‘ï¸ Observation: æ‰¾åˆ°è¯¥ç”¨æˆ·çš„é”™è¯¯æ—¥å¿—

ğŸ“Š æœ€ç»ˆç­”æ¡ˆ: æ‰¾åˆ°ç”¨æˆ· 4103_jawqnr4i8rzh çš„ X æ¡é”™è¯¯æ—¥å¿—...
```

---

## ğŸ“‹ ç³»ç»Ÿæç¤ºè¯å…³é”®éƒ¨åˆ†

### 1. ç´¢å¼•æŸ¥æ‰¾ä¼˜å…ˆçº§

```
â­ ç¬¬ä¸€é€‰æ‹©: search_indices[å…³é”®è¯]
   ç¬¬äºŒé€‰æ‹©: list_indices[]ï¼ˆä»…åœ¨å®Œå…¨ä¸çŸ¥é“æ—¶ï¼‰
```

### 2. å­—æ®µæ˜ å°„è¯´æ˜

```
â­ L å­—æ®µ = æ—¥å¿—çº§åˆ«
   - ERROR: é”™è¯¯æ—¥å¿—
   - WARN: è­¦å‘Šæ—¥å¿—
   - INFO: ä¿¡æ¯æ—¥å¿—
   - DEBUG: è°ƒè¯•æ—¥å¿—

â­ M å­—æ®µ = æ¶ˆæ¯/æ ‡è¯†ç¬¦

â­ T å­—æ®µ = æ—¶é—´æˆ³
```

### 3. é”™è¯¯æ¢å¤ç­–ç•¥

```
å½“é‡åˆ°"ç´¢å¼•ä¸å­˜åœ¨"é”™è¯¯æ—¶:
  Observation: ç´¢å¼• 'xxx' ä¸å­˜åœ¨
  Thought: ç«‹å³ä½¿ç”¨ search_indices æŸ¥æ‰¾æ­£ç¡®ç´¢å¼•
  Action: search_indices[æå–å…³é”®è¯]
```

---

## ğŸ¯ æŸ¥è¯¢æ¨¡å¼é€ŸæŸ¥

### é”™è¯¯æ—¥å¿—æŸ¥è¯¢

```json
{
  "query": {
    "term": {"L.keyword": "ERROR"}
  }
}
```

### ç‰¹å®šç”¨æˆ·çš„é”™è¯¯

```json
{
  "query": {
    "bool": {
      "must": [
        {"term": {"M.keyword": "ç”¨æˆ·ID"}},
        {"term": {"L.keyword": "ERROR"}}
      ]
    }
  }
}
```

### æ—¶é—´èŒƒå›´å†…çš„é”™è¯¯

```json
{
  "query": {
    "bool": {
      "must": [
        {"term": {"L.keyword": "ERROR"}},
        {"range": {"T": {"gte": "now/d"}}}
      ]
    }
  }
}
```

### é”™è¯¯è¶‹åŠ¿ç»Ÿè®¡

```json
{
  "query": {
    "term": {"L.keyword": "ERROR"}
  },
  "aggs": {
    "hourly": {
      "date_histogram": {
        "field": "T",
        "calendar_interval": "hour"
      }
    }
  }
}
```

---

## ğŸ“ Few-shot ç¤ºä¾‹ï¼ˆç°åœ¨5ä¸ªï¼‰

### ç¤ºä¾‹ 1: ä¼˜å…ˆæ¨¡ç³ŠæŸ¥æ‰¾
```
æŸ¥è¯¢ï¼šæŸ¥æ‰¾backendé¡¹ç›®çš„é”™è¯¯æ—¥å¿—
Action: search_indices[backend]
```

### ç¤ºä¾‹ 2: æŒ‰æ—¥æœŸæŸ¥æ‰¾
```
æŸ¥è¯¢ï¼šæŸ¥è¯¢ä»Šå¤©çš„é”™è¯¯æ—¥å¿—
Action: search_indices[2025.11.05]
```

### ç¤ºä¾‹ 3: é”™è¯¯æ¢å¤
```
Observation: ç´¢å¼•ä¸å­˜åœ¨
Action: search_indices[log]
```

### ç¤ºä¾‹ 4: Lå­—æ®µæŸ¥è¯¢é”™è¯¯
```
æŸ¥è¯¢ï¼šæŸ¥æ‰¾é”™è¯¯æ—¥å¿—
Action: search_documents[{..., "query": {"term": {"L.keyword": "ERROR"}}}]
```

### ç¤ºä¾‹ 5: é”™è¯¯æ—¥å¿—èšåˆ
```
æŸ¥è¯¢ï¼šç»Ÿè®¡æ¯å°æ—¶é”™è¯¯æ•°
Action: aggregate_data[{..., "query": {"term": {"L.keyword": "ERROR"}}, "aggs": {...}}]
```

---

## ğŸš€ ä½¿ç”¨æ•ˆæœ

### ç”¨æˆ·å‹å¥½æ€§æå‡

**ç”¨æˆ·åªéœ€è¯´**:
- âœ… "æŸ¥æ‰¾backendçš„é”™è¯¯"ï¼ˆä¸éœ€è¦çŸ¥é“å®Œæ•´ç´¢å¼•åï¼‰
- âœ… "ç»Ÿè®¡ä»Šå¤©çš„é”™è¯¯"ï¼ˆä¸éœ€è¦çŸ¥é“æ—¥æœŸæ ¼å¼ï¼‰
- âœ… "æŸ¥è¯¢é”™è¯¯æ—¥å¿—"ï¼ˆä¸éœ€è¦çŸ¥é“å­—æ®µåæ˜¯Lï¼‰

**Agent è‡ªåŠ¨ç†è§£**:
- âœ… backend â†’ search_indices[backend]
- âœ… ä»Šå¤© â†’ search_indices[å½“å¤©æ—¥æœŸ]
- âœ… é”™è¯¯æ—¥å¿— â†’ L.keyword = ERROR

---

## ğŸ¯ å…³é”®æ”¹è¿›æ€»ç»“

### 1. ç´¢å¼•æŸ¥æ‰¾æ™ºèƒ½åŒ–

```
ä¼˜åŒ–å‰:
  ç”¨æˆ·è¯´ "backendæ—¥å¿—" 
  â†’ Agent å¯èƒ½çŒœç´¢å¼•å 
  â†’ å‡ºé”™

ä¼˜åŒ–å:
  ç”¨æˆ·è¯´ "backendæ—¥å¿—"
  â†’ search_indices[backend]    â­ æ™ºèƒ½æŸ¥æ‰¾
  â†’ æ‰¾åˆ°å‡†ç¡®ç´¢å¼•
  â†’ æˆåŠŸæŸ¥è¯¢
```

### 2. å­—æ®µæ˜ å°„æ ‡å‡†åŒ–

```
ä¼˜åŒ–å‰:
  ç”¨æˆ·è¯´ "é”™è¯¯æ—¥å¿—"
  â†’ Agent éœ€è¦æŸ¥çœ‹ mapping
  â†’ çŒœæµ‹å­—æ®µå
  â†’ å¯èƒ½å‡ºé”™

ä¼˜åŒ–å:
  ç”¨æˆ·è¯´ "é”™è¯¯æ—¥å¿—"
  â†’ ç›´æ¥ä½¿ç”¨ L.keyword = ERROR  â­ çº¦å®šå­—æ®µ
  â†’ æŸ¥è¯¢æˆåŠŸ
```

### 3. é”™è¯¯æ¢å¤è‡ªåŠ¨åŒ–

```
ä¼˜åŒ–å‰:
  ç´¢å¼•ä¸å­˜åœ¨
  â†’ è¿”å›é”™è¯¯
  â†’ åœæ­¢

ä¼˜åŒ–å:
  ç´¢å¼•ä¸å­˜åœ¨
  â†’ è‡ªåŠ¨ search_indices        â­ æ™ºèƒ½æ¢å¤
  â†’ æ‰¾åˆ°æ­£ç¡®ç´¢å¼•
  â†’ ç»§ç»­æ‰§è¡Œ
```

---

## âœ… ç¼–è¯‘éªŒè¯

```bash
âœ… go build -o jas-agent-server.exe cmd/server/main.go
   ç¼–è¯‘æˆåŠŸï¼
```

---

## ğŸŠ æ€»ç»“

**ä¼˜åŒ–æ•ˆæœ**:
1. âœ… **ä¼˜å…ˆæ¨¡ç³ŠæŸ¥æ‰¾** - search_indices ä½œä¸ºç¬¬ä¸€é€‰æ‹©
2. âœ… **å­—æ®µçº¦å®šæ˜ç¡®** - Lå­—æ®µ=é”™è¯¯çº§åˆ«ï¼Œç›´æ¥ä½¿ç”¨
3. âœ… **5ä¸ª Few-shot ç¤ºä¾‹** - æ•™ä¼š Agent æœ€ä½³å®è·µ
4. âœ… **æ™ºèƒ½é”™è¯¯æ¢å¤** - ç´¢å¼•ä¸å­˜åœ¨æ—¶è‡ªåŠ¨æŸ¥æ‰¾
5. âœ… **ç”¨æˆ·ä½“éªŒæå‡** - æ— éœ€çŸ¥é“ç´¢å¼•åå’Œå­—æ®µå

**ç°åœ¨ Elasticsearch Agent æ›´æ™ºèƒ½ã€æ›´å‡†ç¡®ã€æ›´æ˜“ç”¨ï¼** ğŸ‰
