# Web è¿è¡Œé—®é¢˜ä¿®å¤è¯´æ˜

## ğŸ” å‘ç°çš„é—®é¢˜

1. **index.html é…ç½®é”™è¯¯**
   - é—®é¢˜ï¼šindex.html æ˜¯åŸç”Ÿ HTML ç‰ˆæœ¬ï¼Œå¼•ç”¨äº†ä¸å­˜åœ¨çš„ `style.css` å’Œ `app.js`
   - åŸå› ï¼šReact æ–‡ä»¶è¢«æ”¾åœ¨ web ç›®å½•ï¼Œä½† index.html æ²¡æœ‰æ›´æ–°

2. **ç¼ºå°‘é…ç½®æ–‡ä»¶**
   - ç¼ºå°‘ `.gitignore` æ–‡ä»¶
   - ç¼ºå°‘ `.eslintrc.cjs` é…ç½®

3. **æ„å»ºç›®å½•é…ç½®ä¸å½“**
   - vite.config.js ä¸­çš„æ„å»ºè¾“å‡ºç›®å½•æŒ‡å‘äº† `../web-react-dist`
   - åº”è¯¥è¾“å‡ºåˆ° `dist` ç›®å½•

4. **æœåŠ¡å™¨é™æ€æ–‡ä»¶è·¯å¾„**
   - æœåŠ¡å™¨æŒ‡å‘äº† `./web` ç›®å½•
   - åº”è¯¥æŒ‡å‘æ„å»ºåçš„ `./web/dist` ç›®å½•

## âœ… å·²ä¿®å¤çš„å†…å®¹

### 1. æ›´æ–° index.html
```html
<!-- æ—§ç‰ˆæœ¬ï¼ˆåŸç”ŸHTMLï¼‰ -->
<link rel="stylesheet" href="style.css">
<script src="app.js"></script>

<!-- æ–°ç‰ˆæœ¬ï¼ˆReactï¼‰ -->
<div id="root"></div>
<script type="module" src="/src/main.jsx"></script>
```

### 2. æ·»åŠ  .gitignore
```
node_modules
dist
*.local
```

### 3. æ·»åŠ  .eslintrc.cjs
é…ç½® React å’Œ Hooks çš„ ESLint è§„åˆ™ã€‚

### 4. ä¿®æ­£ vite.config.js
```javascript
build: {
  outDir: 'dist',  // ä» '../web-react-dist' æ”¹ä¸º 'dist'
  emptyOutDir: true,
}
```

### 5. æ›´æ–°æœåŠ¡å™¨é…ç½®
```go
// server/http_gateway.go
router.PathPrefix("/").Handler(http.FileServer(http.Dir("./web/dist")))
```

### 6. æ›´æ–°ä¸» README
- ä¿®æ­£äº†é¡¹ç›®ç»“æ„è¯´æ˜
- æ›´æ–°äº†å¯åŠ¨å‘½ä»¤
- æ·»åŠ äº†æ–‡æ¡£é“¾æ¥

## ğŸš€ ç°åœ¨å¦‚ä½•è¿è¡Œ

### å¼€å‘æ¨¡å¼

**1. å¯åŠ¨åç«¯æœåŠ¡å™¨**
```bash
cd cmd/server
go run main.go -apiKey YOUR_API_KEY -baseUrl YOUR_BASE_URL
```

**2. å¯åŠ¨ React å¼€å‘æœåŠ¡å™¨**
```bash
cd web
npm install  # é¦–æ¬¡è¿è¡Œéœ€è¦å®‰è£…ä¾èµ–
npm run dev
```

**3. è®¿é—®åº”ç”¨**
- å¼€å‘æ¨¡å¼ï¼šhttp://localhost:3000
- API ä¼šè‡ªåŠ¨ä»£ç†åˆ°åç«¯ (localhost:8080)

### ç”Ÿäº§æ¨¡å¼

**1. æ„å»º React åº”ç”¨**
```bash
cd web
npm run build
```

**2. å¯åŠ¨åç«¯æœåŠ¡å™¨**
```bash
cd cmd/server
go run main.go -apiKey YOUR_API_KEY -baseUrl YOUR_BASE_URL
```

**3. è®¿é—®åº”ç”¨**
- ç”Ÿäº§æ¨¡å¼ï¼šhttp://localhost:8080
- æœåŠ¡å™¨ä¼šè‡ªåŠ¨æä¾› web/dist ç›®å½•çš„é™æ€æ–‡ä»¶

## ğŸ“‚ å½“å‰é¡¹ç›®ç»“æ„

```
jas-agent/
â”œâ”€â”€ web/                    # React å‰ç«¯
â”‚   â”œâ”€â”€ src/                # æºä»£ç 
â”‚   â”‚   â”œâ”€â”€ components/     # React ç»„ä»¶ï¼ˆ8ä¸ªï¼‰
â”‚   â”‚   â”œâ”€â”€ services/       # API æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ App.jsx         # ä¸»åº”ç”¨
â”‚   â”‚   â”œâ”€â”€ App.css
â”‚   â”‚   â”œâ”€â”€ main.jsx        # å…¥å£
â”‚   â”‚   â””â”€â”€ index.css
â”‚   â”œâ”€â”€ dist/               # æ„å»ºäº§ç‰©ï¼ˆnpm run buildåç”Ÿæˆï¼‰
â”‚   â”œâ”€â”€ node_modules/       # npm ä¾èµ–
â”‚   â”œâ”€â”€ index.html          # HTML æ¨¡æ¿ âœ… å·²ä¿®å¤
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ vite.config.js      # âœ… å·²ä¿®å¤
â”‚   â”œâ”€â”€ .gitignore          # âœ… æ–°å¢
â”‚   â”œâ”€â”€ .eslintrc.cjs       # âœ… æ–°å¢
â”‚   â”œâ”€â”€ README.md
â”‚   â””â”€â”€ å¿«é€Ÿå¯åŠ¨æŒ‡å—.md     # âœ… æ–°å¢
â”œâ”€â”€ cmd/server/
â”‚   â””â”€â”€ main.go
â””â”€â”€ server/
    â”œâ”€â”€ grpc_server.go
    â””â”€â”€ http_gateway.go     # âœ… å·²ä¿®å¤
```

## âœ¨ åŠŸèƒ½éªŒè¯

è¿è¡Œ `npm run dev` åï¼Œæ‚¨åº”è¯¥çœ‹åˆ°ï¼š

```
VITE v5.0.0  ready in xxx ms

âœ  Local:   http://localhost:3000/
âœ  Network: use --host to expose
```

è®¿é—® http://localhost:3000 åº”è¯¥èƒ½çœ‹åˆ°ï¼š
- âœ… æ ‡é¢˜æ æ˜¾ç¤ºæ­£å¸¸
- âœ… é…ç½®é¢æ¿æ­£å¸¸å·¥ä½œ
- âœ… å¯ä»¥é€‰æ‹© Agent ç±»å‹
- âœ… å¯ä»¥å‘é€æ¶ˆæ¯
- âœ… WebSocket æµå¼å“åº”æ­£å¸¸

## ğŸ¯ æµ‹è¯•æ­¥éª¤

1. **æµ‹è¯•å¼€å‘æ¨¡å¼**
   ```bash
   cd web
   npm run dev
   ```
   è®¿é—® http://localhost:3000

2. **æµ‹è¯•ç”Ÿäº§æ„å»º**
   ```bash
   cd web
   npm run build
   npm run preview
   ```

3. **æµ‹è¯•ä¸åç«¯é›†æˆ**
   - å¯åŠ¨åç«¯ï¼š`go run cmd/server/main.go -apiKey XXX -baseUrl XXX`
   - è®¿é—®ï¼šhttp://localhost:8080ï¼ˆæä¾›æ„å»ºåçš„é™æ€æ–‡ä»¶ï¼‰

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **å¼€å‘æ¨¡å¼ vs ç”Ÿäº§æ¨¡å¼**
   - å¼€å‘ï¼šä½¿ç”¨ `npm run dev`ï¼Œç«¯å£ 3000ï¼Œçƒ­é‡è½½
   - ç”Ÿäº§ï¼šä½¿ç”¨ `npm run build` æ„å»ºï¼Œç”±åç«¯æœåŠ¡å™¨æä¾›

2. **API ä»£ç†**
   - å¼€å‘æ¨¡å¼ï¼šVite è‡ªåŠ¨ä»£ç† `/api` åˆ° localhost:8080
   - ç”Ÿäº§æ¨¡å¼ï¼šå‰åç«¯åŒä¸€æœåŠ¡å™¨ï¼Œæ— éœ€ä»£ç†

3. **ä¾èµ–å®‰è£…**
   - é¦–æ¬¡è¿è¡Œéœ€è¦ï¼š`npm install`
   - å·²å®‰è£…å¯ç›´æ¥ï¼š`npm run dev`

## ğŸ‰ æ€»ç»“

æ‰€æœ‰é—®é¢˜å·²ä¿®å¤ï¼Œç°åœ¨å¯ä»¥æ­£å¸¸è¿è¡Œ React å‰ç«¯äº†ï¼

- âœ… é…ç½®æ–‡ä»¶å®Œæ•´
- âœ… æ„å»ºé…ç½®æ­£ç¡®
- âœ… æœåŠ¡å™¨é›†æˆæ­£å¸¸
- âœ… æ–‡æ¡£é½å…¨

å¦‚æœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ï¼š
- [å¿«é€Ÿå¯åŠ¨æŒ‡å—](./å¿«é€Ÿå¯åŠ¨æŒ‡å—.md)
- [README](./README.md)
- [é¡¹ç›®ä¸» README](../README.md)


