syntax = "proto3";

package jas.agent.conf.v1;

option go_package = "jas-agent/internal/conf;conf";

message Bootstrap {
  Server server = 1;
  Data data = 2;
  LLM llm = 3;
}

message Server {
  HTTP http = 1;
  GRPC grpc = 2;

  message HTTP {
    string addr = 1;
  }

  message GRPC {
    string addr = 1;
  }
}

message Data {
  Database database = 1;
  Knowledge knowledge=2;
  Neo4j neo4j=3;
  message Database {
    string driver = 1;
    string source = 2;
    int32 max_idle_conns = 3;
    int32 max_open_conns = 4;
    int32 conn_max_lifetime = 5;
  }
  message Neo4j {
    string target = 1;
    string username = 2;
    string password=3;
    string database=4;
  }
}

message LLM {
  string api_key = 1;
  string base_url = 2;
  string model = 3;
}

message Knowledge{
  string upload_dir=1;
  string api_key=2;
}
